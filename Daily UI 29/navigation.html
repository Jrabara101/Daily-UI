<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Navigation Map Design</title>
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Icons (Lucide) -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        body {
            font-family: 'Inter', sans-serif;
            overflow: hidden; /* Prevent scrolling on mobile */
        }

        /* Map Container */
        #map {
            height: 100vh;
            width: 100vw;
            z-index: 0;
        }

        /* Custom Map Filters to achieve the "Light/Clean" look from the image */
        .leaflet-tile-pane {
            filter: grayscale(100%) contrast(100%) brightness(105%);
            opacity: 0.9;
        }

        /* Brand Colors */
        .text-brand { color: #FF2D55; }
        .bg-brand { background-color: #FF2D55; }
        .border-brand { border-color: #FF2D55; }

        /* Custom Route Label */
        .route-label {
            background: white;
            padding: 4px 8px;
            border-radius: 8px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
            font-weight: 700;
            font-size: 12px;
            color: black;
            border: 1px solid #eee;
            white-space: nowrap;
        }

        /* Custom Marker Styles */
        .marker-destination {
            background: black;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            position: relative;
        }
        /* Triangle pointer for destination marker */
        .marker-destination::after {
            content: '';
            position: absolute;
            bottom: -6px;
            left: 50%;
            transform: translateX(-50%);
            border-left: 6px solid transparent;
            border-right: 6px solid transparent;
            border-top: 8px solid black;
        }

        .marker-start {
            background: #FF2D55;
            border: 3px solid white;
            border-radius: 50%;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        /* Floating UI Elements */
        .floating-btn {
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        /* Hide Leaflet attribution for the clean mockup look (usually keep for production) */
        .leaflet-control-attribution {
            display: none;
        }
    </style>
</head>
<body class="bg-gray-100 relative">

    <!-- Top Status Bar Mockup -->
    <div class="fixed top-0 w-full z-50 px-6 py-3 flex justify-between items-center pointer-events-none select-none">
        <span class="font-bold text-sm text-gray-900">9:41</span>
        <div class="flex gap-1">
            <i data-lucide="signal" class="w-4 h-4 text-gray-900"></i>
            <i data-lucide="wifi" class="w-4 h-4 text-gray-900"></i>
            <i data-lucide="battery-full" class="w-4 h-4 text-gray-900"></i>
        </div>
    </div>

    <!-- Top Nav Overlay -->
    <div class="fixed top-12 left-0 w-full z-40 px-5 flex justify-between items-start pointer-events-none">
        <!-- Back Button -->
        <button class="bg-white/90 backdrop-blur-sm p-3 rounded-full floating-btn pointer-events-auto hover:bg-gray-50 transition">
            <i data-lucide="arrow-left" class="w-6 h-6 text-black"></i>
        </button>

        <div class="flex flex-col gap-3 pointer-events-auto">
            <!-- Menu Button -->
            <button class="bg-gray-200/80 backdrop-blur-sm p-3 rounded-full floating-btn hover:bg-gray-300/80 transition">
                <i data-lucide="menu" class="w-6 h-6 text-black"></i>
            </button>
            <!-- Compass Button -->
            <button class="bg-gray-200/80 backdrop-blur-sm p-3 rounded-full floating-btn hover:bg-gray-300/80 transition transform rotate-45">
                <i data-lucide="navigation" class="w-6 h-6 text-black fill-black"></i>
            </button>
        </div>
    </div>

    <!-- The Map -->
    <div id="map"></div>

    <!-- Bottom Action Button (Pink FAB) -->
    <div class="fixed bottom-[260px] right-5 z-40">
        <button onclick="centerMap()" class="bg-brand w-14 h-14 rounded-full flex items-center justify-center shadow-lg shadow-pink-500/40 active:scale-95 transition-transform">
            <i data-lucide="footprints" class="w-7 h-7 text-white fill-white"></i>
        </button>
    </div>

    <!-- Bottom Sheet/Panel -->
    <div class="fixed bottom-0 left-0 w-full bg-white z-50 rounded-t-3xl shadow-[0_-5px_20px_rgba(0,0,0,0.1)] p-6 pb-8 transition-transform duration-300 ease-in-out">
        <!-- Handle for dragging (visual only) -->
        <div class="w-10 h-1 bg-gray-300 rounded-full mx-auto mb-6"></div>

        <!-- Route Info -->
        <div class="mb-6">
            <h2 class="text-lg font-bold text-gray-900 mb-1">To Stadio Monumentalo</h2>
            <div class="text-gray-500 text-sm font-medium">
                From <span class="text-brand font-bold">Central Station</span>
            </div>
        </div>

        <!-- Stats -->
        <div class="flex items-baseline gap-3 mb-6">
            <span class="text-5xl font-extrabold tracking-tight text-gray-900">45 min</span>
            <span class="text-gray-500 font-medium">5,6 km • Fastest route</span>
        </div>

        <!-- Travel Modes -->
        <div class="flex gap-3 overflow-x-auto pb-2 no-scrollbar">
            <!-- Walk (Active) -->
            <button class="flex-1 bg-black text-white px-5 py-3 rounded-xl flex items-center justify-center gap-3 shadow-lg min-w-[120px]">
                <i data-lucide="footprints" class="w-5 h-5 fill-current"></i>
                <div class="text-left leading-tight">
                    <div class="font-bold text-sm">Walk</div>
                    <div class="text-[10px] opacity-70">45 min</div>
                </div>
            </button>

            <!-- Drive -->
            <button class="flex-1 bg-white border border-gray-200 text-gray-900 px-5 py-3 rounded-xl flex items-center justify-center gap-3 min-w-[120px] hover:bg-gray-50">
                <i data-lucide="car" class="w-5 h-5"></i>
                <div class="text-left leading-tight">
                    <div class="font-bold text-sm">Drive</div>
                    <div class="text-[10px] text-gray-500">5 min</div>
                </div>
            </button>

            <!-- Taxi -->
            <button class="flex-1 bg-white border border-gray-200 text-gray-900 px-5 py-3 rounded-xl flex items-center justify-center gap-3 min-w-[120px] hover:bg-gray-50">
                <i data-lucide="car-taxi-front" class="w-5 h-5"></i>
                <div class="text-left leading-tight">
                    <div class="font-bold text-sm">Taxi</div>
                    <div class="text-[10px] text-gray-500">~ 10€</div>
                </div>
            </button>
        </div>
    </div>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

    <script>
        // Initialize Icons
        lucide.createIcons();

        // 1. Setup the Map
        // Using Berlin coordinates as a placeholder similar to the German text in the image ("Tiergarten")
        const center = [52.5220, 13.3650]; 
        const map = L.map('map', {
            zoomControl: false, // We'll build custom controls if needed
            attributionControl: false
        }).setView(center, 15);

        // 2. Add Tile Layer (The map background)
        // Using CartoDB Positron for that clean, white/gray look
        L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
            maxZoom: 20,
            subdomains: 'abcd'
        }).addTo(map);

        // 3. Define Route Coordinates (Simulated path)
        const routeCoords = [
            [52.5255, 13.3680], // Start (Top right-ish)
            [52.5245, 13.3670],
            [52.5220, 13.3620],
            [52.5200, 13.3660],
            [52.5185, 13.3650],
            [52.5170, 13.3680]  // End (Castle)
        ];

        // 4. Draw the Route Line (Pink)
        const routeLine = L.polyline(routeCoords, {
            color: '#FF2D55', // The Brand Pink
            weight: 6,
            opacity: 1,
            lineJoin: 'round',
            lineCap: 'round'
        }).addTo(map);

        // 5. Add Start Marker (Pink Dot)
        const startIcon = L.divIcon({
            className: 'custom-div-icon',
            html: "<div class='marker-start' style='width: 16px; height: 16px;'></div>",
            iconSize: [16, 16],
            iconAnchor: [8, 8]
        });
        L.marker(routeCoords[0], {icon: startIcon}).addTo(map);

        // 6. Add Destination Marker (Black Castle)
        const destIcon = L.divIcon({
            className: 'custom-div-icon',
            html: `
                <div class='marker-destination' style='width: 44px; height: 44px;'>
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21v-8a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v8"/><path d="M21 21H3"/><path d="M11 3a2 2 0 0 0-2 2v6h6V5a2 2 0 0 0-2-2z"/><path d="M15 11h4"/><path d="M5 11h4"/></svg>
                </div>
            `,
            iconSize: [44, 44],
            iconAnchor: [22, 50] // Anchor at the bottom tip
        });
        L.marker(routeCoords[routeCoords.length - 1], {icon: destIcon}).addTo(map);

        // 7. Add Floating "45 min" Label
        // We place it near the middle of the route
        const midPointIndex = Math.floor(routeCoords.length / 2);
        const labelIcon = L.divIcon({
            className: 'bg-transparent',
            html: "<div class='route-label'>45 min</div>",
            iconSize: [60, 24],
            iconAnchor: [-10, 12] // Offset slightly
        });
        L.marker(routeCoords[midPointIndex], {icon: labelIcon, interactive: false}).addTo(map);

        // Fit map to bounds to ensure route is visible
        map.fitBounds(routeLine.getBounds(), {
            paddingTopLeft: [50, 100], // Padding for top nav
            paddingBottomRight: [50, 300] // Padding for bottom sheet
        });

        // Function to recenter (connected to the pink FAB)
        function centerMap() {
             map.flyTo(center, 15, {
                animate: true,
                duration: 1.5
            });
        }

    </script>
</body>
</html>